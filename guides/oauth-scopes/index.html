<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>BookingSync API documentation</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/stylesheets/application.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="/highlight.css">
    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="/assets/javascripts/application.js"></script>

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 3.8.0">
  </head>
  <body class="flex-col">
    <div class="page-wrapper flex-1 flex-col">
      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle sidebar-toggle collapsed" data-toggle="collapse" data-target="#navigation" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
              <img alt="BookingSync" src="/images/bookingsync.svg">
              <span>Developers</span>
            </a>
          </div>

          <div class="collapse navbar-collapse" id="navigation">
            <ul class="nav navbar-nav navbar-right">
              <li class="active">
                <a href="/guides/">Guides</a>
              </li>
              <li class="">
                <a href="/reference/">API Reference</a>
              </li>
              <li><a href="https://www.bookingsync.com" target="_blank">BookingSync.com</a></li>
              <li><a href="https://github.com/BookingSync/bookingsync-api-docs" target="_blank"><i class="fa fa-github fa-fw fa-2x"></i></a></li>
            </ul>
          </div>
        </div>
      </nav>

<div class="container content">
  <div class="row">
    <div class="col-md-3 col-md-push-9">
      <div class="panel panel-default">
        <div class="list-group">
          <a class="list-group-item" href="/guides/">Introduction</a>
            <a class="list-group-item" href="/guides/gdpr">GDPR</a>
          <a class="list-group-item" href="/guides/create-a-booking-with-a-source">Create a Booking with a Source</a>
          <a class="list-group-item" href="/guides/read-all-authorized-accounts-at-once">Read all authorized accounts at once</a>
          <a class="list-group-item" href="/guides/getting-started-with-php">Getting Started with PHP</a>
          <a class="list-group-item" href="/guides/pricing-concepts">Pricing concepts</a>
          <a class="list-group-item" href="/guides/api-best-practices">API best practices</a>
          <a class="list-group-item" href="/guides/secure-payments-by-bookingsync">Secure Payments By BookingSync</a>
          <a class="list-group-item" href="/guides/webhook-subscriptions">Webhook subscriptions</a>
          <a class="list-group-item" href="/guides/oauth-scopes">OAuth scopes</a>
          <a class="list-group-item" href="/guides/bookigsync-universe-api-early-beta">BookingSync Universe API [EARLY BETA]</a>
          <a class="list-group-item" href="/guides/updated-since-flow">updated_since flow</a>
          <a class="list-group-item" href="/guides/understanding-los-records">Understanding LOS Records</a>
          <a class="list-group-item" href="/guides/understanding-midterm-pricing">Understanding Midterm Pricing</a>
        </div>
      </div>
    </div>
    <div class="col-md-9 col-md-pull-3">
      <div class="panel panel-default">
        <div class="panel-body guide-body">
          <h2 id="oauth-scopes">OAuth Scopes</h2>

<ol id="markdown-toc">
  <li><a href="#explanation" id="markdown-toc-explanation">Explanation</a></li>
  <li><a href="#additional-comments" id="markdown-toc-additional-comments">Additional Comments</a></li>
</ol>

<h3 id="explanation">Explanation</h3>

<p>For authorizing read and write access to most of the endpoints, BookingSync API requires proper OAuth scopes. There are three kinds of scopes: <code>read</code> scope, <code>write</code> scope and <code>write owned</code> scope.</p>

<p>The first two are self-explanatory: for reading, the read scope is required (however, write scope also gives the permission to read resources), for writing the write scope is necessary (the read scope won’t be enough).</p>

<p>The last one, <code>write owned</code> is not that obvious. It is still similar to <code>write</code> scope in the sense that it allows write and read actions, but the behavior is slightly different. When creating a new record with owned scope, your application will acquire a lock on the record preventing it from being modified by any other application, besides the attributes that are always whitelisted for editing (check <a href="#additional-comments">Additional Comments section</a> for reference). For example, when you create a booking with <code>bookings_write_owned</code> scope, only your application will be able to modify its prices’. Another difference is for <code>read</code> actions - the response might be limited for some resources, and all sensitive data for given resource will be removed (check Additional Comments section for reference). Such behavior prevents applications from accessing the sensitive data when it is not necessary for them. It is <strong>strongly</strong> recommended to use <code>write owned</code> scopes by default (if applicable for given resource, not all of them have the owned scope) as <code>write</code> scopes with full access might discourage property managers from installing your application.</p>

<h3 id="additional-comments">Additional Comments</h3>

<h4 id="whitelisted-attributes-for-update">Whitelisted attributes for update</h4>

<p>In case of bookings, there are certain attributes that are always whitelisted for editing, even when the booking is locked:</p>

<ul>
  <li><code>expected_checkin_time</code></li>
  <li><code>expected_checkout_time</code></li>
  <li><code>rental_payback_to_owner</code></li>
</ul>

<p>It is also possible to add new bookings fees to the locked bookings. However, editing non-owned bookings fees is not permitted.</p>

<h4 id="limited-read-access">Limited read access</h4>

<p>In case of bookings and bookings taxes, <code>bookings_write_owned</code> impacts the response body when reading the bookings that are not owned by your application and the sensitive data won’t be returned. For bookings, the response body will contain only the following attributes for non-owned records:</p>

<ul>
  <li><code>id</code></li>
  <li><code>start_at</code></li>
  <li><code>end_at</code></li>
  <li><code>status</code></li>
  <li><code>updated_at</code></li>
  <li><code>reference</code></li>
</ul>

<p>In that way, <code>bookings_write_owned</code> scope acts like a <code>public</code> scope.</p>

<p>For bookings taxes, no attributes will be returned.</p>

        </div>
      </div>
    </div>
  </div>
</div>
    </div>
  </body>
</html>

